
<div class="flex justify-end ">
    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" (click)="createTicket()">
        Crear Ticket
    </button>
</div>
<div class="flex gap-6 mx-2 mt-5 w-full bg-gray-100 h-[100%]" cdkDropListGroup>

    <!-- <div cdkDropList [cdkDropListData]="todo" (cdkDropListDropped)="drop($event)">
        <div class="example-container px-2 py-3 shadow-lg rounded-lg mt-3" *ngFor="let item of todo" cdkDrag>{{item}}</div>
    </div> -->


    <section class="w-4/12  px-3 py-5" id="Nuevo" cdkDropList [cdkDropListData]="ticketsnews" (cdkDropListDropped)="drop($event)">
        <h3 class="text-center">Nuevo</h3>
        <!-- <div  class=" "> -->
    
            <div class="px-6 py-4 hover:cursor-poniter hover:bg-gray-200 mt-3 mb-3 rounded  shadow-lg  mb-4" (click)="editTicket(ticket)" *ngFor="let ticket of ticketsnews" cdkDrag >
                <div class="flex font-bold text-md mb-2">
                    <div>{{ticket.title}}</div>
                    <div class="px-2 ">
                        <span 
                            class=" bg-gray-500 rounded-full px-2 py-1 text-sm font-semibold mr-2 text-white">
                            {{ticket.typeError}}
                        </span>

                        <span *ngIf="ticket.levelError === 'High'" class=" bg-red-400 rounded-full px-2 py-1 text-sm font-semibold text-white ">
                            {{ticket.levelError}}
                        </span>
                        <span *ngIf="ticket.levelError === 'Medium'"
                            class=" bg-blue-400 rounded-full px-2 py-1 text-sm font-semibold text-white">
                            {{ticket.levelError}}
                        </span>
                        <span *ngIf="ticket.levelError === 'Low'" class=" bg-green-400 rounded-full px-2 py-1 text-sm font-semibold text-white">
                            {{ticket.levelError}}
                        </span>
    
                    </div>
                </div>
                <span class="text-gray-700 text-sm">
                    <!-- Responsable: {{ticket?.manager?.displayName ? ticket?.manager?.displayName : 'none'}} -->
                    Responsable: {{ticket?.team ? ticket?.team : 'none'}}
                </span><br>
                <small *ngIf="ticket.createdAt">
                    {{ ticket.createdAt.toDate() | date: "dd/MM/yyyy" }}
                </small>
                
            </div>
            
        <!-- </div> -->
    
    </section>


    <section class="w-4/12 px-3 py-5" id="En proceso" cdkDropList [cdkDropListData]="ticketsprocess" (cdkDropListDropped)="drop($event)">
        <h3 class="text-center">En proceso</h3>
        <!-- <div > -->
    
            <div class="px-6 py-4 hover:cursor-poniter hover:bg-gray-200 mt-3 mb-3 rounded  shadow-lg  mb-4" (click)="editTicket(ticket)"  *ngFor="let ticket of ticketsprocess" cdkDrag>
                <div class="flex font-bold text-md mb-2">
                    <div>{{ticket.title}}</div>
                    <div class="px-2 ">
                        <span class=" bg-gray-500 rounded-full px-2 py-1 text-sm font-semibold mr-2 text-white">
                            {{ticket.typeError}}
                        </span>
                    
                        <span *ngIf="ticket.levelError === 'High'"
                            class=" bg-red-400 rounded-full px-2 py-1 text-sm font-semibold text-white ">
                            {{ticket.levelError}}
                        </span>
                        <span *ngIf="ticket.levelError === 'Medium'"
                            class=" bg-blue-400 rounded-full px-2 py-1 text-sm font-semibold text-white">
                            {{ticket.levelError}}
                        </span>
                        <span *ngIf="ticket.levelError === 'Low'"
                            class=" bg-green-400 rounded-full px-2 py-1 text-sm font-semibold text-white">
                            {{ticket.levelError}}
                        </span>
                    
                    </div>
                </div>
                <span class="text-gray-700 text-sm">
                    <!-- Responsable: {{ticket?.manager?.displayName ? ticket?.manager?.displayName : 'none'}} -->
                    Responsable: {{ticket?.team ? ticket?.team : 'none'}}
                </span><br>
                <small *ngIf="ticket.createdAt">
                    {{ ticket.createdAt.toDate() | date: "dd/MM/yyyy" }}
                </small>
    
            </div>
    
        <!-- </div> -->
    
    </section>

    <section class="w-4/12 px-3 py-5" id="Atendido"  cdkDropList [cdkDropListData]="ticketscomplets" (cdkDropListDropped)="drop($event)">
        <h3 class="text-center">Completado</h3>
        <!-- <div> -->
    
            <div class="px-6 py-4 hover:cursor-poniter hover:bg-gray-200 mt-3 mb-3 rounded  shadow-lg  mb-4" (click)="editTicket(ticket)"  *ngFor="let ticket of ticketscomplets" cdkDrag>
                <div class="flex font-bold text-md mb-2">

                    <div>{{ticket.title}}</div>
                    <div class="px-2 ">
                        <span class=" bg-gray-500 rounded-full px-2 py-1 text-sm font-semibold mr-2 text-white">
                            {{ticket.typeError}}
                        </span>
                    
                        <span *ngIf="ticket.levelError === 'High'"
                            class=" bg-red-400 rounded-full px-2 py-1 text-sm font-semibold text-white ">
                            {{ticket.levelError}}
                        </span>
                        <span *ngIf="ticket.levelError === 'Medium'"
                            class=" bg-blue-400 rounded-full px-2 py-1 text-sm font-semibold text-white">
                            {{ticket.levelError}}
                        </span>
                        <span *ngIf="ticket.levelError === 'Low'"
                            class=" bg-green-400 rounded-full px-2 py-1 text-sm font-semibold text-white">
                            {{ticket.levelError}}
                        </span>
                    
                    </div>
                </div>
                
            
                
                <span class="text-gray-700 text-sm">
                    <!-- Responsable: {{ticket?.manager?.displayName ? ticket?.manager?.displayName : 'none'}} -->
                    Responsable: {{ticket?.team ? ticket?.team : 'none'}}
                </span><br>
                <small *ngIf="ticket.createdAt">
                    {{ ticket.createdAt.toDate() | date: "dd/MM/yyyy" }}
                </small>
    
            </div>
    
        <!-- </div> -->
    
    </section>
    
    
    
    
</div> 